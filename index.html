<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
	<meta name="keywords" content="前端,前端简历,前端博客,前端工程师,html,html5,javascript,范广">
	<meta name="description" content="前端,前端简历,前端博客,前端工程师,html,html5,javascript,范广的博客">
	<meta name="author" content="范广,helsingvan">
	<link rel="shortcut icon" href="favicon.ico">
	<link rel="stylesheet" href="/lib/html5-reset/assets/css/reset.css">
	<link rel="stylesheet" href="/lib/fullpage/jquery.fullpage.min.css">
	<link rel="stylesheet" href="/static/main.css">
	<script src="/lib/jquery/dist/jquery.min.js"></script>
	<script src="/lib/fullpage/jquery.fullpage.min.js"></script>
	<title>范广的主页</title>
</head>
<body>
	<div id="fullPage">
		<section class="section page_1">
			<div class="banner">
				<img data-url="/static/image/bg_01.jpg" alt="" src="/static/image/bg_01.jpg">
			</div>
			<button>3424</button>
		</section>
		<section class="section">2</section>
		<section class="section">3</section>
		<section class="section">4</section>
	</div>
<script>
	$(document).ready(function() {
		$('#fullPage').fullpage();
		// $('#mainBg').bannerLoop({
		// 	banner: ['./static/image/bg_01.jpg','./static/image/bg_02.jpg','./static/image/bg_03.jpg','./static/image/bg_04.jpg','./static/image/bg_05.jpg','./static/image/bg_06.jpg','./static/image/bg_07.jpg','./static/image/bg_08.jpg','./static/image/bg_09.jpg']
		// });
		// $('.main-bg').bannerLoop();
		bannerLoop();
	})

	function bannerLoop() {
		
		
		var loopNum = 0;
		var loopTime = 3000;
		var imgNum = 21;
		var imgHtml = '';
		var imgUrl = '';
		var imgIndex = 1;
		for(var i=1;i<imgNum;i++) {
			if(i < 10) {
				imgIndex = '0'+ i;
			}else {
				imgIndex = i;
			}
			imgUrl = '/static/image/bg_' + imgIndex + '.jpg';
			imgHtml += '<img data-url="' + imgUrl + '"'
						+ ' class="main-bg">';
		}
		$('.banner').html(imgHtml);
		

		var imgs = $('.main-bg');
		(function loop() {
			if(loopNum >= imgs.length) {
				loopNum = 0;
			}
			
			$(imgs[loopNum]).addClass('active').siblings().removeClass('active');
			if(!imgs[loopNum].src && $(imgs[loopNum]).hasClass('active')) {
				imgs[loopNum].src = imgs[loopNum].dataset.url;
			}
			loopNum++;
			setTimeout(arguments.callee,loopTime);
		})();

		
	}
</script>
</body>
</html>
